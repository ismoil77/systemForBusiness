<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏</title>
		<link rel="stylesheet" href="./style.css" />
	</head>
	<body>
		<!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ -->
		<div id="offline-warning" class="offline-warning">
			–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –§—É–Ω–∫—Ü–∏–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã.
		</div>

		<!-- –ü–æ–∏—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
		<div class="container">
			<button class="btn" id="openActivityLog">üìí –ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π</button>
			<select class="odam">
				<option value="Dilobar">Dilobar Qurbanova</option>
				<option value="Murodullo">Murodullo Mamatkulov</option>
			</select>
			<h1 class="dataToday"></h1>
			<input
				type="search"
				class="searchClient"
				placeholder="–ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞..."
			/>
			<button class="addBtnClient btn info-btn">+ –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</button>
			<button class="btn print-btn">üñ® –ü–µ—á–∞—Ç—å</button>
			<button class="btn info-btn" id="createInvoiceBtn">
				üìÑ –°–æ–∑–¥–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—É—é
			</button>
			<button class="btn info-btn" id="viewInvoicesBtn">
				üßæ –ú–æ–∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ
			</button>
			<button class="btn info-btn" id="backupDataBtn">
				üîÑ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
			</button>
		</div>

		<!-- –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ -->
		<table id="clients-table">
			<thead>
				<tr>
					<th>‚Ññ</th>
					<th>–ö–ª–∏–µ–Ω—Ç (–¢–µ–ª–µ—Ñ–æ–Ω)</th>
					<th class="allCredit">–î–æ–ª–≥</th>
					<th>–ú–µ—Å—Ç–æ</th>
					<th class="no-print">–î–µ–π—Å—Ç–≤–∏—è</th>
				</tr>
			</thead>
			<tbody class="box"></tbody>
		</table>

		<!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ -->
		<dialog class="editClientDialog">
			<button class="editClientDialogClose btn delete-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
			<form class="editClientForm">
				<input type="text" name="client" placeholder="–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞" required />
				<select name="place" required>
					<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ</option>
					<option value="–°–∞–¥–±–∞—Ä–≥">–°–∞–¥–±–∞—Ä–≥</option>
					<option value="–ñ–¥-–í–æ–∫–∑–∞–ª">–ñ–¥ –í–æ–∫–∑–∞–ª</option>
					<option value="–ê–≤—Ç–æ-–±–∞–∑–∞">–ê–≤—Ç–æ –ë–∞–∑–∞</option>
					<option value="–§–∞—Ä–æ–≤–æ–Ω">–§–∞—Ä–æ–≤–æ–Ω</option>
					<option value="–ú–µ—Ö—Ä–≥–æ–Ω">–ú–µ—Ö—Ä–≥–æ–Ω</option>
					<option value="–ü–∞–º–∏—Ä">–ü–∞–º–∏—Ä</option>
					<option value="–°–∞—Ä–∏-–û—Å–∏—ë">–°–∞—Ä–∏ –û—Å–∏—ë</option>
					<option value="–ö—É–ª–æ–±">–ö—É–ª–æ–±</option>

				</select>
				<!-- –ü–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞) -->
				<input
					type="tel"
					name="phoneNumber"
					placeholder="–¢–µ–ª–µ—Ñ–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, +992991234567)"
					required
				/>
				<button type="submit" class="btn info-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
			</form>
		</dialog>

		<!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ -->
		<dialog class="dialogInfo">
			<button class="dialogInfoClose btn delete-btn">–ó–∞–∫—Ä—ã—Ç—å</button><br />
			<label class="dataToday22"></label><br />
			<label class="placeInfo"></label><br />
			<label class="clientInfo"></label><br />
			<label class="creditInfo"></label><br />

			<input
				type="text"
				class="qarzNimaInfo form-input"
				placeholder="–ß—Ç–æ –∫—É–ø–∏–ª"
				required
			/>
			<input
				type="text"
				class="qarzNechiInfo form-input"
				placeholder="–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ"
				required
			/>
			<input
				type="text"
				class="qarzNarkhInfo form-input"
				placeholder="–Ω–∞—Ä—Ö–∏"
				required
			/>
			<input type="date" class="addDolgDate form-input" />

			<button class="plusBtnInfo btn info-btn">–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥</button
			><br /><br /><br /><br /><br />

			<h1>–í—ã—Ä—É—á–∫–∞</h1>
			<br />
			<input
				type="number"
				class="minusInfo"
				placeholder="–°–ø–∏—Å–∞—Ç—å –¥–æ–ª–≥"
				min="0"
			/>
			<input type="date" class="spisatDolgDate" />
			<select class="sposobInfo" required>
				<option value="">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</option>
				<option value="Dushanbe C–∏—Ç–∏">Dushanbe C–∏—Ç–∏</option>
				<option value="–ù–∞–ª–∏—á–∏ –ü—É–ª">–ù–ê–õ–ò–ß–ù–´–ô –ü–£–õ</option>
				<option value="Alif">ALIF MOBI</option>
				<option value="AMONAT">AMONAT BANK</option>
			</select>
			<button class="minusBtnInfo btn info-btn">–°–ø–∏—Å–∞—Ç—å</button><br />
			<label class="pulInfo"></label>
		</dialog>

		<!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ -->
		<dialog class="addDialog">
			<button class="addDialogClose btn delete-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
			<form class="formAdd">
				<input type="text" name="client" placeholder="–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞" required />
				<select name="place" required>
					<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ</option>
					<option value="–°–∞–¥–±–∞—Ä–≥">–°–∞–¥–±–∞—Ä–≥</option>
					<option value="–ñ–¥-–í–æ–∫–∑–∞–ª">–ñ–¥ –í–æ–∫–∑–∞–ª</option>
					<option value="–ê–≤—Ç–æ-–±–∞–∑–∞">–ê–≤—Ç–æ –ë–∞–∑–∞</option>
					<option value="–§–∞—Ä–æ–≤–æ–Ω">–§–∞—Ä–æ–≤–æ–Ω</option>
					<option value="–ú–µ—Ö—Ä–≥–æ–Ω">–ú–µ—Ö—Ä–≥–æ–Ω</option>
					<option value="–ü–∞–º–∏—Ä">–ü–∞–º–∏—Ä</option>
					<option value="–°–∞—Ä–∏-–û—Å–∏—ë">–°–∞—Ä–∏ –û—Å–∏—ë</option>
					<option value="–ö—É–ª–æ–±">–ö—É–ª–æ–±</option>
				</select>
				<!-- –ü–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–±–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞!) -->
				<input
					type="tel"
					name="phoneNumber"
					placeholder="–¢–µ–ª–µ—Ñ–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, +992991234567)"
					required
				/>
				<button type="submit" class="btn info-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
			</form>
		</dialog>
		<!-- –ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π -->
		<dialog id="activityLogDialog" class="activity-log-dialog">
			<button class="btn delete-btn" id="closeActivityLog">–ó–∞–∫—Ä—ã—Ç—å</button>
			<h2>–ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π</h2>

			<div class="log-filters">
				<button class="btn info-btn" data-date="today">–°–µ–≥–æ–¥–Ω—è</button>
				<button class="btn info-btn" data-date="yesterday">–í—á–µ—Ä–∞</button>
				<button class="btn info-btn" data-date="all">–í—Å–µ</button>
				<input type="date" id="customLogDate" class="log-date-input" />
			</div>

			<div
				id="activityLogContent"
				style="margin-top: 15px; max-height: 400px; overflow-y: auto"
			>
				<!-- –°—é–¥–∞ –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è –∂—É—Ä–Ω–∞–ª -->
			</div>
		</dialog>
		<!-- –î–∏–∞–ª–æ–≥ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–∫–ª–∞–¥–Ω–æ–π -->
		<dialog id="invoiceDialog" class="invoice-dialog">
			<button class="btn delete-btn" id="closeInvoiceDialog">–ó–∞–∫—Ä—ã—Ç—å</button>
			<h2>–°–æ–∑–¥–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—É—é</h2>

			<!-- –í—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ -->
			<label>–ö–ª–∏–µ–Ω—Ç:</label>
			<select id="invoiceClient" required>
				<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞</option>
				<!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
			</select>
			<label>–î–∞—Ç–∞ –Ω–∞–∫–ª–∞–¥–Ω–æ–π:</label>
			<input type="date" id="invoiceDate" required />
			<!-- –¢–æ–≤–∞—Ä—ã -->
			<div id="invoiceItems">
				<div class="invoice-item">
					<input
						type="text"
						class="item-name form-input"
						placeholder="–¢–æ–≤–∞—Ä"
						required
					/>
					<input
						type="number"
						class="item-qty form-input"
						placeholder="–ö–æ–ª-–≤–æ"
						min="1"
						value="1"
						required
					/>
					<input
						type="number"
						class="item-price form-input"
						placeholder="–¶–µ–Ω–∞"
						min="0"
						step="0.01"
						required
					/>
					<button type="button" class="btn delete-btn remove-item">
						–£–¥–∞–ª–∏—Ç—å
					</button>
				</div>
			</div>

			<button type="button" id="addItemBtn" class="btn info-btn">
				+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
			</button>
			<button type="button" id="saveInvoiceBtn" class="btn info-btn">
				üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—É—é
			</button>

			<!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
			<div id="invoicePreview" style="margin-top: 20px; display: none">
				<h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
				<div id="previewContent"></div>
			</div>
		</dialog>
		<!-- –î–∏–∞–ª–æ–≥ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö -->
		<dialog id="invoicesViewDialog" class="invoice-dialog">
			<button class="btn delete-btn" id="closeInvoicesView">–ó–∞–∫—Ä—ã—Ç—å</button>
			<h2>–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ</h2>
			<!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö -->
			<input
				type="text"
				id="invoiceSearch"
				placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É, –∫–ª–∏–µ–Ω—Ç—É –∏–ª–∏ —Ç–æ–≤–∞—Ä—É..."
				class="form-input"
				style="margin-bottom: 15px; width: 100%"
			/>
			<div id="invoicesList"></div>
		</dialog>
		<div id="loading-overlay" class="loading-overlay" style="display: none">
			<div class="spinner"></div>
			<p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
		</div>

		<!-- PDF –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
		<script type="module" src="./main.js"></script>
	</body>
</html>
